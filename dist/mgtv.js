!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("request")):"function"==typeof define&&define.amd?define(["request"],e):"object"==typeof exports?exports.qiguoPlayManage=e(require("request")):t.qiguoPlayManage=e(t.request)}(this,function(t){return webpackJsonpqiguoPlayManage([3],[function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){t.sort(function(t,e){return e.bittype-t.bittype});var e=t.length?t[0].bittype:void 0,n={};return t.forEach(function(t){n[t.bittype]||(n[t.bittype]=t.url)}),{highestDefintion:e,definitions:n}};e.buildPlayStreams=r},,,,function(t,e,n){"use strict";function r(t){return null!=t&&u(t.length)&&!o(t)}var o=n(41),u=n(12);t.exports=r},,function(t,e,n){"use strict";function r(t){return null==t?void 0===t?f:c:l&&l in Object(t)?u(t):i(t)}var o=n(9),u=n(32),i=n(37),c="[object Null]",f="[object Undefined]",l=o?o.toStringTag:void 0;t.exports=r},function(t,e,n){"use strict";function r(t){return null!=t&&"object"==(void 0===t?"undefined":o(t))}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=r},,function(t,e,n){"use strict";var r=n(11),o=r.Symbol;t.exports=o},function(t,e,n){"use strict";(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e;t.exports=r}).call(e,n(45))},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(10),u="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,i=o||u||Function("return this")();t.exports=i},function(t,e,n){"use strict";function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}var o=9007199254740991;t.exports=r},function(t,e,n){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={},t.exports=e.default},,,function(e,n){e.exports=t},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n,r){(0,i.default)(e)(t,(0,f.default)(n),r)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var u=n(23),i=r(u),c=n(5),f=r(c);t.exports=e.default},function(t,e,n){"use strict";function r(t,e){return function(n,r,o){return t(n,e,r,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){(0,f.default)(i.default,t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var u=n(46),i=r(u),c=n(47),f=r(c);t.exports=e.default},,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(e,n,r){function o(t,e){if(s-=1,t)l=!0,r(t);else{if(e===d.default||l&&s<=0)return l=!0,r(null);u()}}function u(){for(;s<t&&!l;){var e=c();if(null===e)return l=!0,void(s<=0&&r(null));s+=1,n(e.value,e.key,(0,p.default)(o))}}if(r=(0,f.default)(r||i.default),t<=0||!e)return r(null);var c=(0,a.default)(e),l=!1,s=0;u()}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var u=n(8),i=r(u),c=n(15),f=r(c),l=n(25),a=r(l),s=n(20),p=r(s),y=n(14),d=r(y);t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return r&&t[r]&&t[r]()};var r="function"==typeof Symbol&&Symbol.iterator;t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=-1,n=t.length;return function(){return++e<n?{value:t[e],key:e}:null}}function u(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}function i(t){var e=(0,y.default)(t),n=-1,r=e.length;return function(){var o=e[++n];return n<r?{value:t[o],key:o}:null}}function c(t){if((0,l.default)(t))return o(t);var e=(0,s.default)(t);return e?u(e):i(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var f=n(4),l=r(f),a=n(24),s=r(a),p=n(43),y=r(p);t.exports=e.default},function(t,e,n){"use strict";function r(t,e){var n=i(t),r=!n&&u(t),a=!n&&!r&&c(t),p=!n&&!r&&!a&&l(t),y=n||r||a||p,d=y?o(t.length,String):[],b=d.length;for(var v in t)!e&&!s.call(t,v)||y&&("length"==v||a&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||f(v,b))||d.push(v);return d}var o=n(30),u=n(39),i=n(48),c=n(40),f=n(33),l=n(42),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){"use strict";function r(t){return u(t)&&o(t)==i}var o=n(6),u=n(7),i="[object Arguments]";t.exports=r},function(t,e,n){"use strict";function r(t){return i(t)&&u(t.length)&&!!c[o(t)]}var o=n(6),u=n(12),i=n(7),c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c["[object Arguments]"]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c["[object Map]"]=c["[object Number]"]=c["[object Object]"]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1,t.exports=r},function(t,e,n){"use strict";function r(t){if(!o(t))return u(t);var e=[];for(var n in Object(t))c.call(t,n)&&"constructor"!=n&&e.push(n);return e}var o=n(34),u=n(35),i=Object.prototype,c=i.hasOwnProperty;t.exports=r},function(t,e,n){"use strict";function r(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=r},function(t,e,n){"use strict";function r(t){return function(e){return t(e)}}t.exports=r},function(t,e,n){"use strict";function r(t){var e=i.call(t,f),n=t[f];try{t[f]=void 0;var r=!0}catch(t){}var o=c.call(t);return r&&(e?t[f]=n:delete t[f]),o}var o=n(9),u=Object.prototype,i=u.hasOwnProperty,c=u.toString,f=o?o.toStringTag:void 0;t.exports=r},function(t,e,n){"use strict";function r(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||u.test(t))&&t>-1&&t%1==0&&t<e}var o=9007199254740991,u=/^(?:0|[1-9]\d*)$/;t.exports=r},function(t,e,n){"use strict";function r(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||o)}var o=Object.prototype;t.exports=r},function(t,e,n){"use strict";var r=n(38),o=r(Object.keys,Object);t.exports=o},function(t,e,n){"use strict";(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(10),u="object"==r(e)&&e&&!e.nodeType&&e,i=u&&"object"==r(t)&&t&&!t.nodeType&&t,c=i&&i.exports===u,f=c&&o.process,l=function(){try{return f&&f.binding&&f.binding("util")}catch(t){}}();t.exports=l}).call(e,n(13)(t))},function(t,e,n){"use strict";function r(t){return u.call(t)}var o=Object.prototype,u=o.toString;t.exports=r},function(t,e,n){"use strict";function r(t,e){return function(n){return t(e(n))}}t.exports=r},function(t,e,n){"use strict";var r=n(27),o=n(7),u=Object.prototype,i=u.hasOwnProperty,c=u.propertyIsEnumerable,f=r(function(){return arguments}())?r:function(t){return o(t)&&i.call(t,"callee")&&!c.call(t,"callee")};t.exports=f},function(t,e,n){"use strict";(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(11),u=n(44),i="object"==r(e)&&e&&!e.nodeType&&e,c=i&&"object"==r(t)&&t&&!t.nodeType&&t,f=c&&c.exports===i,l=f?o.Buffer:void 0,a=l?l.isBuffer:void 0,s=a||u;t.exports=s}).call(e,n(13)(t))},function(t,e,n){"use strict";function r(t){if(!u(t))return!1;var e=o(t);return e==c||e==f||e==i||e==l}var o=n(6),u=n(49),i="[object AsyncFunction]",c="[object Function]",f="[object GeneratorFunction]",l="[object Proxy]";t.exports=r},function(t,e,n){"use strict";var r=n(28),o=n(31),u=n(36),i=u&&u.isTypedArray,c=i?o(i):r;t.exports=c},function(t,e,n){"use strict";function r(t){return i(t)?o(t):u(t)}var o=n(26),u=n(29),i=n(4);t.exports=r},function(t,e,n){"use strict";function r(){return!1}t.exports=r},,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){function r(t,e){t?n(t):++u!==i&&e!==f.default||n(null)}n=(0,v.default)(n||d.default);var o=0,u=0,i=t.length;for(0===i&&n(null);o<i;o++)e(t[o],o,(0,j.default)(r))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){((0,i.default)(t)?o:x)(t,(0,g.default)(e),n)};var u=n(4),i=r(u),c=n(14),f=r(c),l=n(18),a=r(l),s=n(19),p=r(s),y=n(8),d=r(y),b=n(15),v=r(b),m=n(20),j=r(m),h=n(5),g=r(h),x=(0,p.default)(a.default,1/0);t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){n=n||i.default;var r=(0,f.default)(e)?[]:{};t(e,function(t,e,n){(0,p.default)(t)(function(t,o){arguments.length>2&&(o=(0,a.default)(arguments,1)),r[e]=o,n(t)})},function(t){n(t,r)})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var u=n(8),i=r(u),c=n(4),f=r(c),l=n(16),a=r(l),s=n(5),p=r(s);t.exports=e.default},,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.getDefinitions=e.getPlayAds=void 0;var o=n(1),u=r(o),i=n(2),c=r(i),f=n(21),l=r(f),a=n(3),s=n(0),p=(0,c.default)(function(t,e){var n=void 0,r=null;try{n=t.match(/(\d+).html/)[1]}catch(t){r="获取vid失败: "+t.message}e(r,n)}),y=(0,c.default)(function(t,e){var n=null;(0,a.fetch)({url:"http://pcweb.api.mgtv.com/player/video?video_id="+t},function(t){try{t=JSON.parse(t)}catch(t){n="获取playInfo失败: "+t.message}e(n,t)})}),d=(0,c.default)(function(t,e){var n=[],r=null;try{var o=new Map([["标清","2"],["高清","3"],["超清","4"]]),u=t.data.stream,i=!0,c=!1,f=void 0;try{for(var l,a=u[Symbol.iterator]();!(i=(l=a.next()).done);i=!0){var s=l.value,p={},y=o.get(s.name);p.bittype=y,p.bittype&&s.url&&n.push({tmpUrl:"http://disp.titan.mgtv.com"+s.url,bittype:y})}}catch(r){c=!0,f=r}finally{try{!i&&a.return&&a.return()}finally{if(c)throw f}}}catch(t){r="获取tmpInfos失败 "+t.message}e(r,n)}),b=(0,c.default)(function(t,e,n){var r=null,o=void 0;(0,a.fetch)({url:t},function(t){try{t=JSON.parse(t),o=t.info}catch(t){r="获取真实playInfo失败 "+t.message}n(r,{url:o,bittype:e})})}),v=(0,c.default)(function(t,e){var n=[],r=!0,o=!1,u=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var f=i.value,a=f.tmpUrl,p=f.bittype;n.push(b(a,p))}}catch(t){o=!0,u=t}finally{try{!r&&c.return&&c.return()}finally{if(o)throw u}}(0,l.default)(n,function(t,n){n=n.filter(function(t){return t.url});var r=(0,s.buildPlayStreams)(n),o=r.definitions,u=r.highestDefintion;e(null,{err:t,definitions:o,highestDefintion:u})})}),m=function(t,e){var n=t.match(/(\d+).html/)[1],r=null,o=encodeURIComponent(JSON.stringify({_v:"1.0",m:{p:"4482"},c:{type:23,version:"",os:"",mac:"",lt:0,ctmid:"",anid:"",imei:"",brand:"",mn:"",ts:(new Date).getTime()},ex:{x:"y"}})),u=encodeURIComponent(JSON.stringify({v:{id:parseInt(n,10)}}));(0,a.fetch)({url:"http://x.da.hunantv.com/m5/player?p="+o+"&v="+u,headers:{Referer:t,"User-Agent":"Mozilla/5.0 (iPad; CPU OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"}},function(t){var n=[];try{n=t.match(/MediaFile\s[^>]+><!\[CDATA\[([^\]]+)/g),n=n?n.map(function(t){return t.match(/<!\[CDATA\[(.+)/)[1]}):[]}catch(t){r="Get ads error: "+t.message}e(r,n)})},j=function(t,e){(0,u.default)([p(t),y(),d(),v()],function(t,n){e(t,{singleVideoDefintions:n})})};e.getPlayAds=m,e.getDefinitions=j}],[72])});